"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("axios"),s=require("primereact/inputtext"),a=require("primereact/checkbox"),o=require("primereact/button");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=n(e),r=n(t);class c extends e.Component{constructor(e){super(e),this.state={username:"",password:"",repassword:"",chkreme:!1},this.Constants=this.props?.constants,this.nextPage=this.props?.nextpage,this.token=this.props?.token}authorize(){let e=this.state.username,t=this.state.password,s="";"signup"===this.props.mode?(s=this.Constants.BASE_URL+this.Constants.REGISTER,console.log({username:e,password:t}),r.default.post(s,{username:e,password:t}).then((e=>{console.log(e.data),this.setState({success:e.data.success}),window.location=this.nextPage||"/"})).catch((e=>{console.log(e)}))):"login"===this.props.mode?(console.log("login"),s=this.Constants.BASE_URL+this.Constants.LOGIN,console.log({username:e,password:t}),r.default.post(s,{username:e,password:t}).then((e=>{console.log(e.data),this.setState({success:e.data.success}),window.location=this.nextPage||"/"})).catch((e=>{console.log(e)}))):"resetpwd"===this.props.mode?(s=this.Constants.BASE_URL+this.Constants.RESET,console.log({username:e}),r.default.post(s,{username:e}).then((e=>{console.log(e.data),this.setState({success:e.data.success}),window.location=this.nextPage||"/"})).catch((e=>{console.log(e)}))):"token"===this.props.mode&&(s=this.Constants.BASE_URL+this.Constants.TOKEN+this.token,console.log({password:t}),r.default.post(s,{password:t}).then((e=>{console.log(e.data),this.setState({success:e.data.success}),window.location=this.nextPage||"/"})).catch((e=>{console.log(e)})))}render(){const e=this.props.mode;return l.default.createElement("div",{className:"p-field p-col-6 p-md-6 p-mt-5 authpght"},l.default.createElement("div",{className:"card"},l.default.createElement("div",{className:"p-grid p-mt-2 p-m-0"},l.default.createElement("div",{className:"p-col"},l.default.createElement("div",{className:"box"},"token"!==e&&l.default.createElement(s.InputText,{id:"emailaddress",value:this.state.username,onChange:e=>this.setState({username:e.target.value}),placeholder:"Email address",type:"text"})))),"resetpwd"!==e&&l.default.createElement("div",{className:"p-grid p-mt-2 p-m-0"},l.default.createElement("div",{className:"p-col"},l.default.createElement("div",{className:"box"},l.default.createElement(s.InputText,{id:"password",value:this.state.password,onChange:e=>this.setState({password:e.target.value}),placeholder:"Password",type:"password"})))),("signup"===e||"token"===e)&&l.default.createElement("div",{className:"p-grid p-mt-2 p-m-0"},l.default.createElement("div",{className:"p-col"},l.default.createElement("div",{className:"box"},l.default.createElement(s.InputText,{id:"repassword",value:this.state.repassword,onChange:e=>this.setState({repassword:e.target.value}),placeholder:"Re-enter Password",type:"password"})))),"login"===e&&l.default.createElement("div",{className:"loginchk"},l.default.createElement(a.Checkbox,{inputId:"chkreme",onChange:()=>this.setState({chkreme:!this.state.chkreme}),checked:this.state.chkreme}),l.default.createElement("label",{htmlFor:"chkreme",className:"p-ml-2"},"Remember Me")),l.default.createElement(o.Button,{label:"login"===e?"Login":"signup"===e?"Sign Up":"Reset Password",onClick:()=>this.authorize(),className:"p-button-info p-mt-2"}),"login"===e&&l.default.createElement("small",{className:"loginfgtpwd"},l.default.createElement("a",{href:"/resetpwd"}," Forgot Password?"))))}}exports.AuthnForm=c;
